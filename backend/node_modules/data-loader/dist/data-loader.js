!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DataLoader=e():t.DataLoader=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(4))},function(t,e,r){t.exports=r(2)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(3);window.customElements&&customElements.define(n.default.is,n.default)},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,a){function i(t){try{u(n.next(t))}catch(t){a(t)}}function c(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,c)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.NightingaleElement=void 0;const o=r(5);e.NightingaleElement=class{};const a=new Map;e.load=(t,e=new Headers({accept:"application/json"}))=>{const r=a.get(t);if(r)return r;const o=n(void 0,void 0,void 0,(function*(){const r=yield window.fetch(t,{headers:e});if(!r.ok)throw new Error(`Request Failed: Status = ${r.status}; URI = ${t}; Time = ${new Date}`);return 204===r.status?{payload:null,headers:r.headers}:{payload:yield r.json(),headers:r.headers}}));return a.set(t,o),o.catch(()=>a.delete(t)),o};class i extends HTMLElement{constructor(){super(),this._data=null,this.selector=(this.getAttribute("selector")||"").trim()||(t=>t)}static get is(){return"data-loader"}fetch(){return n(this,void 0,void 0,(function*(){const t=(r=this.children,Array.from(r).filter(t=>t.matches('source[src], script[type="application/json"]')));var r;if(!t.length)return;const n=[];let a;for(const r of t)try{a=r instanceof HTMLSourceElement?Object.assign(Object.assign({},yield e.load(r.src)),{srcElement:r,src:r.src}):{payload:JSON.parse(r.textContent)};break}catch(t){n.push(t)}if(a)"string"==typeof this.selector?this._data=o.default(a.payload,this.selector):this._data=this.selector(a.payload),a.payload=this.data,this.dispatchEvent(new CustomEvent("load",{detail:a,bubbles:!0,cancelable:!0}));else{this._errors=n;try{this.dispatchEvent(new CustomEvent("error",{detail:n,bubbles:!0,cancelable:!0}))}catch(t){console.error(t)}}}))}get data(){return this._data}get loaded(){return!!this.data}get errors(){return this._errors}get selector(){return this._selector}set selector(t){this._selector=t}connectedCallback(){this.fetch()}}e.default=i},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";r.r(e);var n=Array.isArray,o=r(0),a="object"==typeof self&&self&&self.Object===Object&&self,i=o.a||a||Function("return this")(),c=i.Symbol,u=Object.prototype,s=u.hasOwnProperty,l=u.toString,f=c?c.toStringTag:void 0;var p=function(t){var e=s.call(t,f),r=t[f];try{t[f]=void 0;var n=!0}catch(t){}var o=l.call(t);return n&&(e?t[f]=r:delete t[f]),o},h=Object.prototype.toString;var d=function(t){return h.call(t)},v=c?c.toStringTag:void 0;var y=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":v&&v in Object(t)?p(t):d(t)};var _=function(t){return null!=t&&"object"==typeof t};var b=function(t){return"symbol"==typeof t||_(t)&&"[object Symbol]"==y(t)},g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j=/^\w*$/;var m=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!b(t))||(j.test(t)||!g.test(t)||null!=e&&t in Object(e))};var w=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var O,x=function(t){if(!w(t))return!1;var e=y(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},S=i["__core-js_shared__"],E=(O=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"";var P=function(t){return!!E&&E in t},z=Function.prototype.toString;var $=function(t){if(null!=t){try{return z.call(t)}catch(t){}try{return t+""}catch(t){}}return""},M=/^\[object .+?Constructor\]$/,T=Function.prototype,A=Object.prototype,C=T.toString,F=A.hasOwnProperty,k=RegExp("^"+C.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var L=function(t){return!(!w(t)||P(t))&&(x(t)?k:M).test($(t))};var N=function(t,e){return null==t?void 0:t[e]};var R=function(t,e){var r=N(t,e);return L(r)?r:void 0},D=R(Object,"create");var H=function(){this.__data__=D?D(null):{},this.size=0};var I=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},U=Object.prototype.hasOwnProperty;var q=function(t){var e=this.__data__;if(D){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return U.call(e,t)?e[t]:void 0},G=Object.prototype.hasOwnProperty;var J=function(t){var e=this.__data__;return D?void 0!==e[t]:G.call(e,t)};var B=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=D&&void 0===e?"__lodash_hash_undefined__":e,this};function K(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}K.prototype.clear=H,K.prototype.delete=I,K.prototype.get=q,K.prototype.has=J,K.prototype.set=B;var Q=K;var V=function(){this.__data__=[],this.size=0};var W=function(t,e){return t===e||t!=t&&e!=e};var X=function(t,e){for(var r=t.length;r--;)if(W(t[r][0],e))return r;return-1},Y=Array.prototype.splice;var Z=function(t){var e=this.__data__,r=X(e,t);return!(r<0)&&(r==e.length-1?e.pop():Y.call(e,r,1),--this.size,!0)};var tt=function(t){var e=this.__data__,r=X(e,t);return r<0?void 0:e[r][1]};var et=function(t){return X(this.__data__,t)>-1};var rt=function(t,e){var r=this.__data__,n=X(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nt.prototype.clear=V,nt.prototype.delete=Z,nt.prototype.get=tt,nt.prototype.has=et,nt.prototype.set=rt;var ot=nt,at=R(i,"Map");var it=function(){this.size=0,this.__data__={hash:new Q,map:new(at||ot),string:new Q}};var ct=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var ut=function(t,e){var r=t.__data__;return ct(e)?r["string"==typeof e?"string":"hash"]:r.map};var st=function(t){var e=ut(this,t).delete(t);return this.size-=e?1:0,e};var lt=function(t){return ut(this,t).get(t)};var ft=function(t){return ut(this,t).has(t)};var pt=function(t,e){var r=ut(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function ht(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ht.prototype.clear=it,ht.prototype.delete=st,ht.prototype.get=lt,ht.prototype.has=ft,ht.prototype.set=pt;var dt=ht;function vt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(vt.Cache||dt),r}vt.Cache=dt;var yt=vt;var _t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bt=/\\(\\)?/g,gt=function(t){var e=yt(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(_t,(function(t,r,n,o){e.push(n?o.replace(bt,"$1"):r||t)})),e}));var jt=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},mt=c?c.prototype:void 0,wt=mt?mt.toString:void 0;var Ot=function t(e){if("string"==typeof e)return e;if(n(e))return jt(e,t)+"";if(b(e))return wt?wt.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r};var xt=function(t){return null==t?"":Ot(t)};var St=function(t,e){return n(t)?t:m(t,e)?[t]:gt(xt(t))};var Et=function(t){if("string"==typeof t||b(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var Pt=function(t,e){for(var r=0,n=(e=St(e,t)).length;null!=t&&r<n;)t=t[Et(e[r++])];return r&&r==n?t:void 0};e.default=function(t,e,r){var n=null==t?void 0:Pt(t,e);return void 0===n?r:n}}])}));
//# sourceMappingURL=data-loader.js.map